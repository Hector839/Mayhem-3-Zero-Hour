<?xml version="1.0" standalone="yes"?>
<?xml-stylesheet href="x2script.xsl" type="text/xsl"?>
<!-- Generated using X-Studio -->
<script>
	<name>Mayhem.AssignNewLeader</name>
	<version>1</version>
	<engineversion>50</engineversion>
	<description></description>
	<arguments>
		<argument index="1" name="ship" type="Var/Ship" desc="" />
		<argument index="2" name="killer" type="Var/Ship" desc="" />
		<argument index="3" name="cmd" type="Value" desc="" />
		<argument index="4" name="cmdtarget" type="Value" desc="" />
		<argument index="5" name="cmdtarget2" type="Value" desc="" />
		<argument index="6" name="cmdpar1" type="Value" desc="" />
		<argument index="7" name="cmdpar2" type="Value" desc="" />
	</arguments>
	<sourcetext>
		<line linenr="001" indent="" />
		<line linenr="002" indent="">
			<comment>* Will return the slowest ship of the formation.</comment>
		</line>
		<line linenr="003" indent="">
			<comment>* Will always assign a new leader (even if $ship is the slowest ship) if there is at least 1 follower, otherwise it will return null.</comment>
		</line>
		<line linenr="004" indent="" />
		<line linenr="005" indent="">
			<text>skip</text>
			<text> </text>
			<text>if</text>
			<text> </text>
			<var>$ship</var>
			<text>-&gt;</text>
			<text> </text>
			<text>exists</text>
		</line>
		<line linenr="006" indent="&#160;">
			<text>return</text>
			<text> </text>
			<var>null</var>
		</line>
		<line linenr="007" indent="" />
		<line linenr="008" indent="">
			<comment>* Player:</comment>
		</line>
		<line linenr="009" indent="">
			<var>$isFleetLeader</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>$ship</var>
			<text>-&gt;</text>
			<text> </text>
			<text>is</text>
			<text> </text>
			<text>fleet</text>
			<text> </text>
			<text>leader</text>
		</line>
		<line linenr="010" indent="">
			<comment>* NPC:</comment>
		</line>
		<line linenr="011" indent="" interruptable="@">
			<var>$isSquadronLeader</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>[NULL]</var>
			<text>-&gt;</text>
			<text> </text>
			<text>call</text>
			<text> </text>
			<text>script</text>
			<text> </text>
			<call>Mayhem.Squadron.IsLeader</call>
			<text> </text>
			<text>:</text>
			<text> </text>
			<text>ship</text>
			<text>=</text>
			<var>$ship</var>
		</line>
		<line linenr="012" indent="">
			<var>$hasFormationShips</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>$ship</var>
			<text>-&gt;</text>
			<text> </text>
			<text>has</text>
			<text> </text>
			<text>formation</text>
			<text> </text>
			<text>ships</text>
		</line>
		<line linenr="013" indent="" />
		<line linenr="014" indent="">
			<text>if</text>
			<text> </text>
			<var>$isFleetLeader</var>
			<text> </text>
			<text>OR</text>
			<text> </text>
			<var>$hasFormationShips</var>
			<text> </text>
			<text>OR</text>
			<text> </text>
			<var>$isSquadronLeader</var>
		</line>
		<line linenr="015" indent="&#160;">
			<text>if</text>
			<text> </text>
			<var>$isFleetLeader</var>
		</line>
		<line linenr="016" indent="&#160;&#160;" interruptable="@">
			<var>$shipArray</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>[NULL]</var>
			<text>-&gt;</text>
			<text> </text>
			<text>call</text>
			<text> </text>
			<text>script</text>
			<text> </text>
			<call>Joubarbe.Lib.GetFleetShips</call>
			<text> </text>
			<text>:</text>
			<text> </text>
			<text>leader</text>
			<text>=</text>
			<var>$ship</var>
			<text> </text>
			<text>includeLeader</text>
			<text>=</text>
			<var>[FALSE]</var>
			<text> </text>
			<text>withFleetOnly</text>
			<text>=</text>
			<var>[TRUE]</var>
		</line>
		<line linenr="017" indent="&#160;&#160;">
			<var>$shipArray.s</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<text>size</text>
			<text> </text>
			<text>of</text>
			<text> </text>
			<text>array</text>
			<text> </text>
			<var>$shipArray</var>
		</line>
		<line linenr="018" indent="&#160;&#160;">
			<comment>* Consider ships not with fleet if that's all we have.</comment>
		</line>
		<line linenr="019" indent="&#160;&#160;">
			<text>skip</text>
			<text> </text>
			<text>if</text>
			<text> </text>
			<var>$shipArray.s</var>
		</line>
		<line linenr="020" indent="&#160;&#160;&#160;" interruptable="@">
			<var>$shipArray</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>[NULL]</var>
			<text>-&gt;</text>
			<text> </text>
			<text>call</text>
			<text> </text>
			<text>script</text>
			<text> </text>
			<call>Joubarbe.Lib.GetFleetShips</call>
			<text> </text>
			<text>:</text>
			<text> </text>
			<text>leader</text>
			<text>=</text>
			<var>$ship</var>
			<text> </text>
			<text>includeLeader</text>
			<text>=</text>
			<var>[FALSE]</var>
			<text> </text>
			<text>withFleetOnly</text>
			<text>=</text>
			<var>[FALSE]</var>
		</line>
		<line linenr="021" indent="&#160;">
			<text>else</text>
			<text> </text>
			<text>if</text>
			<text> </text>
			<var>$isSquadronLeader</var>
		</line>
		<line linenr="022" indent="&#160;&#160;" interruptable="@">
			<var>$shipArray</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>[NULL]</var>
			<text>-&gt;</text>
			<text> </text>
			<text>call</text>
			<text> </text>
			<text>script</text>
			<text> </text>
			<call>Mayhem.Squadron.GetFormation</call>
			<text> </text>
			<text>:</text>
			<text> </text>
			<text>squadron</text>
			<text>=</text>
			<var>$ship</var>
		</line>
		<line linenr="023" indent="&#160;">
			<text>else</text>
			<text> </text>
			<text>if</text>
			<text> </text>
			<var>$hasFormationShips</var>
		</line>
		<line linenr="024" indent="&#160;&#160;">
			<var>$shipArray</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>$ship</var>
			<text>-&gt;</text>
			<text> </text>
			<text>get</text>
			<text> </text>
			<text>formation</text>
			<text> </text>
			<text>follower</text>
			<text> </text>
			<text>ships</text>
		</line>
		<line linenr="025" indent="&#160;">
			<text>end</text>
		</line>
		<line linenr="026" indent="&#160;" />
		<line linenr="027" indent="&#160;">
			<comment>* Zero Hour needs Task Force TM leaders</comment>
		</line>
		<line linenr="028" indent="&#160;">
			<var>$squadronName</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>$ship</var>
			<text>-&gt;</text>
			<text> </text>
			<text>get</text>
			<text> </text>
			<text>local</text>
			<text> </text>
			<text>variable</text>
			<text>:</text>
			<text> </text>
			<text>name</text>
			<text>=</text>
			<text>'mayhem_squadronName'</text>
		</line>
		<line linenr="029" indent="&#160;" interruptable="@">
			<var>$newLeader</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>[NULL]</var>
			<text>-&gt;</text>
			<text> </text>
			<text>call</text>
			<text> </text>
			<text>script</text>
			<text> </text>
			<call>Mayhem.SelectNewLeader</call>
			<text> </text>
			<text>:</text>
			<text> </text>
			<text>shipArray</text>
			<text>=</text>
			<var>$shipArray</var>
			<text> </text>
			<text>exclude</text>
			<text>=</text>
			<var>$ship</var>
			<text> </text>
			<text>squadronName</text>
			<text>=</text>
			<var>$squadronName</var>
		</line>
		<line linenr="030" indent="&#160;">
			<text>skip</text>
			<text> </text>
			<text>if</text>
			<text> </text>
			<var>$newLeader</var>
			<text>-&gt;</text>
			<text> </text>
			<text>exists</text>
		</line>
		<line linenr="031" indent="&#160;&#160;">
			<text>return</text>
			<text> </text>
			<var>null</var>
		</line>
		<line linenr="032" indent="&#160;" />
		<line linenr="033" indent="&#160;">
			<var>$newLeader</var>
			<text>-&gt;</text>
			<text> </text>
			<text>show</text>
			<text> </text>
			<text>in</text>
			<text> </text>
			<text>property</text>
			<text> </text>
			<text>menu</text>
			<text>:</text>
			<text> </text>
			<var>[TRUE]</var>
		</line>
		<line linenr="034" indent="&#160;" />
		<line linenr="035" indent="&#160;">
			<text>if</text>
			<text> </text>
			<var>$killer</var>
			<text>-&gt;</text>
			<text> </text>
			<text>exists</text>
		</line>
		<line linenr="036" indent="&#160;&#160;">
			<text>do</text>
			<text> </text>
			<text>if</text>
			<text> </text>
			<var>$ship</var>
			<text>-&gt;</text>
			<text> </text>
			<text>is</text>
			<text> </text>
			<var>$killer</var>
			<text> </text>
			<text>a</text>
			<text> </text>
			<text>enemy</text>
		</line>
		<line linenr="037" indent="&#160;&#160;&#160;">
			<var>$newLeader</var>
			<text>-&gt;</text>
			<text> </text>
			<text>set</text>
			<text> </text>
			<text>relation</text>
			<text> </text>
			<text>against</text>
			<text> </text>
			<var>$killer</var>
			<text> </text>
			<text>to</text>
			<text> </text>
			<var>[Foe]</var>
		</line>
		<line linenr="038" indent="&#160;&#160;">
			<var>$attacker</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>$ship</var>
			<text>-&gt;</text>
			<text> </text>
			<text>get</text>
			<text> </text>
			<text>attacker</text>
		</line>
		<line linenr="039" indent="&#160;&#160;">
			<text>if</text>
			<text> </text>
			<var>$attacker</var>
			<text> </text>
			<text>==</text>
			<text> </text>
			<var>$killer</var>
		</line>
		<line linenr="040" indent="&#160;&#160;&#160;">
			<var>$newLeader</var>
			<text>-&gt;</text>
			<text> </text>
			<text>send</text>
			<text> </text>
			<text>signal</text>
			<text> </text>
			<var>[SIGNAL_ATTACKED]</var>
			<text> </text>
			<text>:</text>
			<text> </text>
			<text>arg1</text>
			<text>=</text>
			<var>$killer</var>
			<text>,</text>
			<text> </text>
			<text>arg2</text>
			<text>=</text>
			<var>null</var>
			<text>,</text>
			<text> </text>
			<text>arg3</text>
			<text>=</text>
			<var>null</var>
			<text>,</text>
			<text> </text>
			<text>arg4</text>
			<text>=</text>
			<var>null</var>
		</line>
		<line linenr="041" indent="&#160;&#160;">
			<text>end</text>
		</line>
		<line linenr="042" indent="&#160;">
			<text>end</text>
		</line>
		<line linenr="043" indent="&#160;" />
		<line linenr="044" indent="&#160;" interruptable="@">
			<text>=</text>
			<text> </text>
			<var>[NULL]</var>
			<text>-&gt;</text>
			<text> </text>
			<text>call</text>
			<text> </text>
			<text>script</text>
			<text> </text>
			<call>Joubarbe.Lib.DisableBailing</call>
			<text> </text>
			<text>:</text>
			<text> </text>
			<text>ship</text>
			<text>=</text>
			<var>$newLeader</var>
			<text> </text>
			<text>disabled</text>
			<text>=</text>
			<var>[TRUE]</var>
		</line>
		<line linenr="045" indent="&#160;" />
		<line linenr="046" indent="&#160;">
			<text>if</text>
			<text> </text>
			<var>$isFleetLeader</var>
		</line>
		<line linenr="047" indent="&#160;&#160;">
			<comment>* Transfer the leadership and internal fleet variables.</comment>
		</line>
		<line linenr="048" indent="&#160;&#160;" interruptable="@">
			<var>$fleetSettings</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>[NULL]</var>
			<text>-&gt;</text>
			<text> </text>
			<text>call</text>
			<text> </text>
			<text>script</text>
			<text> </text>
			<call>Mayhem.Fleet.GetSettings</call>
			<text> </text>
			<text>:</text>
			<text> </text>
			<text>fleetLeader</text>
			<text>=</text>
			<var>$ship</var>
		</line>
		<line linenr="049" indent="&#160;&#160;">
			<var>$ship</var>
			<text>-&gt;</text>
			<text> </text>
			<text>switch</text>
			<text> </text>
			<text>fleet</text>
			<text> </text>
			<text>leader</text>
			<text> </text>
			<text>to</text>
			<text>:</text>
			<text> </text>
			<var>$newLeader</var>
		</line>
		<line linenr="050" indent="&#160;&#160;">
			<var>$newLeader</var>
			<text>-&gt;</text>
			<text> </text>
			<text>set</text>
			<text> </text>
			<text>local</text>
			<text> </text>
			<text>variable</text>
			<text>:</text>
			<text> </text>
			<text>name</text>
			<text>=</text>
			<text>'mayhem_fleetSettings'</text>
			<text> </text>
			<text>value</text>
			<text>=</text>
			<var>$fleetSettings</var>
		</line>
		<line linenr="051" indent="&#160;&#160;">
			<var>$ship</var>
			<text>-&gt;</text>
			<text> </text>
			<text>set</text>
			<text> </text>
			<text>local</text>
			<text> </text>
			<text>variable</text>
			<text>:</text>
			<text> </text>
			<text>name</text>
			<text>=</text>
			<text>'mayhem_fleetSettings'</text>
			<text> </text>
			<text>value</text>
			<text>=</text>
			<var>null</var>
		</line>
		<line linenr="052" indent="&#160;&#160;">
			<comment>* Tell all ships to rejoin the new leader, no matter what their current order is.</comment>
		</line>
		<line linenr="053" indent="&#160;&#160;" interruptable="@">
			<var>$ships</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>[NULL]</var>
			<text>-&gt;</text>
			<text> </text>
			<text>call</text>
			<text> </text>
			<text>script</text>
			<text> </text>
			<call>Joubarbe.Lib.GetFleetShips</call>
			<text> </text>
			<text>:</text>
			<text> </text>
			<text>leader</text>
			<text>=</text>
			<var>$newLeader</var>
			<text> </text>
			<text>includeLeader</text>
			<text>=</text>
			<var>[FALSE]</var>
			<text> </text>
			<text>withFleetOnly</text>
			<text>=</text>
			<var>[TRUE]</var>
		</line>
		<line linenr="054" indent="&#160;&#160;">
			<var>$XS.Iterator1</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<text>size</text>
			<text> </text>
			<text>of</text>
			<text> </text>
			<text>array</text>
			<text> </text>
			<var>$ships</var>
		</line>
		<line linenr="055" indent="&#160;&#160;&#160;">
			<text>while</text>
			<text> </text>
			<var>$XS.Iterator1</var>
		</line>
		<line linenr="056" indent="&#160;&#160;">
			<text>dec</text>
			<text> </text>
			<var>$XS.Iterator1</var>
		</line>
		<line linenr="057" indent="&#160;&#160;">
			<var>$s</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>$ships</var>
			<text>[</text>
			<var>$XS.Iterator1</var>
			<text>]</text>
		</line>
		<line linenr="058" indent="&#160;&#160;" interruptable="@">
			<text>START</text>
			<text> </text>
			<var>$s</var>
			<text>-&gt;</text>
			<text> </text>
			<text>call</text>
			<text> </text>
			<text>script</text>
			<text> </text>
			<call>!ship.cmd.fleet.join</call>
			<text> </text>
			<text>:</text>
		</line>
		<line linenr="059" indent="&#160;&#160;">
			<text>end</text>
		</line>
		<line linenr="060" indent="&#160;&#160;">
			<comment>* Warning message to player.</comment>
		</line>
		<line linenr="061" indent="&#160;&#160;">
			<var>$ship.sector</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>$ship</var>
			<text>-&gt;</text>
			<text> </text>
			<text>get</text>
			<text> </text>
			<text>sector</text>
		</line>
		<line linenr="062" indent="&#160;" interruptable="@">
			<var>$newLeader.fullName</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<var>[NULL]</var>
			<text>-&gt;</text>
			<text> </text>
			<text>call</text>
			<text> </text>
			<text>script</text>
			<text> </text>
			<call>Joubarbe.Lib.GetNameAndId</call>
			<text> </text>
			<text>:</text>
			<text> </text>
			<text>object</text>
			<text>=</text>
			<var>$newLeader</var>
		</line>
		<line linenr="063" indent="&#160;&#160;">
			<var>$t</var>
			<text> </text>
			<text>=</text>
			<text> </text>
			<text>'New leader assigned in '</text>
			<text> </text>
			<text>+</text>
			<text> </text>
			<var>$ship.sector</var>
			<text> </text>
			<text>+</text>
			<text> </text>
			<text>': '</text>
			<text> </text>
			<text>+</text>
			<text> </text>
			<var>$newLeader.fullName</var>
			<text> </text>
			<text>+</text>
			<text> </text>
			<text>'.'</text>
		</line>
		<line linenr="064" indent="&#160;&#160;" interruptable="@">
			<text>=</text>
			<text> </text>
			<var>[NULL]</var>
			<text>-&gt;</text>
			<text> </text>
			<text>call</text>
			<text> </text>
			<text>script</text>
			<text> </text>
			<call>Mayhem.StackNews</call>
			<text> </text>
			<text>:</text>
			<text> </text>
			<text>text</text>
			<text>=</text>
			<var>$t</var>
			<text> </text>
			<text>addToHistory</text>
			<text>=</text>
			<var>[FALSE]</var>
			<text> </text>
			<text>breakingNews</text>
			<text>=</text>
			<var>[FALSE]</var>
		</line>
		<line linenr="065" indent="&#160;&#160;">
			<text>else</text>
			<text> </text>
			<text>if</text>
			<text> </text>
			<var>$isSquadronLeader</var>
		</line>
		<line linenr="066" indent="&#160;">
			<comment>* The following is expensive and must be called with START, because this script is used by !ship.signal.killed.</comment>
		</line>
		<line linenr="067" indent="&#160;&#160;" interruptable="@">
			<text>START</text>
			<text> </text>
			<var>[NULL]</var>
			<text>-&gt;</text>
			<text> </text>
			<text>call</text>
			<text> </text>
			<text>script</text>
			<text> </text>
			<call>Mayhem.Squadron.SwitchLeader</call>
			<text> </text>
			<text>:</text>
			<text> </text>
			<text>squadron</text>
			<text>=</text>
			<var>$newLeader</var>
			<text> </text>
			<text>newLeader</text>
			<text>=</text>
			<var>$newLeader</var>
		</line>
		<line linenr="068" indent="&#160;">
			<text>return</text>
			<text> </text>
			<var>$newLeader</var>
		</line>
		<line linenr="069" indent="&#160;">
			<text>else</text>
			<text> </text>
			<text>if</text>
			<text> </text>
			<var>$hasFormationShips</var>
		</line>
		<line linenr="070" indent="&#160;">
			<var>$ship</var>
			<text>-&gt;</text>
			<text> </text>
			<text>give</text>
			<text> </text>
			<text>formation</text>
			<text> </text>
			<text>leadership</text>
			<text> </text>
			<text>to</text>
			<text> </text>
			<var>$newLeader</var>
		</line>
		<line linenr="071" indent="">
			<text>end</text>
		</line>
		<line linenr="072" indent="" />
		<line linenr="073" indent="">
			<text>START</text>
			<text> </text>
			<var>$newLeader</var>
			<text>-&gt;</text>
			<text> </text>
			<text>command</text>
			<text> </text>
			<var>$cmd</var>
			<text> </text>
			<text>:</text>
			<text> </text>
			<text>arg1</text>
			<text>=</text>
			<var>$cmdtarget</var>
			<text>,</text>
			<text> </text>
			<text>arg2</text>
			<text>=</text>
			<var>$cmdtarget2</var>
			<text>,</text>
			<text> </text>
			<text>arg3</text>
			<text>=</text>
			<var>$cmdpar1</var>
			<text>,</text>
			<text> </text>
			<text>arg4</text>
			<text>=</text>
			<var>$cmdpar2</var>
		</line>
		<line linenr="074" indent="">
			<text>end</text>
		</line>
		<line linenr="075" indent="" />
		<line linenr="076" indent="">
			<text>return</text>
			<text> </text>
			<var>$newLeader</var>
		</line>
	</sourcetext>
	<codearray>
		<sval type="array" size="10">
			<sval type="string" val="Mayhem.AssignNewLeader" />
			<sval type="int" val="50" />
			<sval type="string" val="" />
			<sval type="int" val="1" />
			<sval type="int" val="0" />
			<sval type="array" size="22">
				<sval type="string" val="ship" />
				<sval type="string" val="killer" />
				<sval type="string" val="cmd" />
				<sval type="string" val="cmdtarget" />
				<sval type="string" val="cmdtarget2" />
				<sval type="string" val="cmdpar1" />
				<sval type="string" val="cmdpar2" />
				<sval type="string" val="isFleetLeader" />
				<sval type="string" val="isSquadronLeader" />
				<sval type="string" val="hasFormationShips" />
				<sval type="string" val="shipArray" />
				<sval type="string" val="shipArray.s" />
				<sval type="string" val="squadronName" />
				<sval type="string" val="newLeader" />
				<sval type="string" val="attacker" />
				<sval type="string" val="fleetSettings" />
				<sval type="string" val="ships" />
				<sval type="string" val="s" />
				<sval type="string" val="XS.Iterator1" />
				<sval type="string" val="ship.sector" />
				<sval type="string" val="newLeader.fullName" />
				<sval type="string" val="t" />
			</sval>
			<sval type="array" size="54">
				<sval type="array" size="4">
					<sval type="int" val="706" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
					<sval type="int" val="-536870393" />
				</sval>
				<sval type="array" size="3">
					<sval type="int" val="103" />
					<sval type="int" val="0" />
					<sval type="int" val="0" />
				</sval>
				<sval type="array" size="4">
					<sval type="int" val="1574" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
					<sval type="int" val="7" />
				</sval>
				<sval type="array" size="8">
					<sval type="int" val="102" />
					<sval type="string" val="Mayhem.Squadron.IsLeader" />
					<sval type="int" val="8" />
					<sval type="int" val="131075" />
					<sval type="int" val="12" />
					<sval type="int" val="1" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
				</sval>
				<sval type="array" size="4">
					<sval type="int" val="531" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
					<sval type="int" val="9" />
				</sval>
				<sval type="array" size="19">
					<sval type="int" val="104" />
					<sval type="int" val="-1610599165" />
					<sval type="int" val="5" />
					<sval type="int" val="131074" />
					<sval type="int" val="7" />
					<sval type="int" val="131074" />
					<sval type="int" val="9" />
					<sval type="int" val="15" />
					<sval type="int" val="10" />
					<sval type="int" val="131074" />
					<sval type="int" val="8" />
					<sval type="int" val="15" />
					<sval type="int" val="10" />
					<sval type="int" val="5" />
					<sval type="int" val="-1" />
					<sval type="int" val="10" />
					<sval type="int" val="-2" />
					<sval type="int" val="10" />
					<sval type="int" val="-4" />
				</sval>
				<sval type="array" size="7">
					<sval type="int" val="104" />
					<sval type="int" val="-1610609661" />
					<sval type="int" val="1" />
					<sval type="int" val="131074" />
					<sval type="int" val="7" />
					<sval type="int" val="1" />
					<sval type="int" val="-1" />
				</sval>
				<sval type="array" size="12">
					<sval type="int" val="102" />
					<sval type="string" val="Joubarbe.Lib.GetFleetShips" />
					<sval type="int" val="10" />
					<sval type="int" val="131075" />
					<sval type="int" val="12" />
					<sval type="int" val="3" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
					<sval type="int" val="131075" />
					<sval type="int" val="9" />
					<sval type="int" val="131075" />
					<sval type="int" val="10" />
				</sval>
				<sval type="array" size="4">
					<sval type="int" val="131" />
					<sval type="int" val="11" />
					<sval type="int" val="131074" />
					<sval type="int" val="10" />
				</sval>
				<sval type="array" size="7">
					<sval type="int" val="104" />
					<sval type="int" val="-536868089" />
					<sval type="int" val="1" />
					<sval type="int" val="131074" />
					<sval type="int" val="11" />
					<sval type="int" val="1" />
					<sval type="int" val="-1" />
				</sval>
				<sval type="array" size="12">
					<sval type="int" val="102" />
					<sval type="string" val="Joubarbe.Lib.GetFleetShips" />
					<sval type="int" val="10" />
					<sval type="int" val="131075" />
					<sval type="int" val="12" />
					<sval type="int" val="3" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
					<sval type="int" val="131075" />
					<sval type="int" val="9" />
					<sval type="int" val="131075" />
					<sval type="int" val="9" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="112" />
					<sval type="int" val="17" />
				</sval>
				<sval type="array" size="7">
					<sval type="int" val="104" />
					<sval type="int" val="-1610608891" />
					<sval type="int" val="1" />
					<sval type="int" val="131074" />
					<sval type="int" val="8" />
					<sval type="int" val="1" />
					<sval type="int" val="-1" />
				</sval>
				<sval type="array" size="8">
					<sval type="int" val="102" />
					<sval type="string" val="Mayhem.Squadron.GetFormation" />
					<sval type="int" val="10" />
					<sval type="int" val="131075" />
					<sval type="int" val="12" />
					<sval type="int" val="1" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="112" />
					<sval type="int" val="17" />
				</sval>
				<sval type="array" size="7">
					<sval type="int" val="104" />
					<sval type="int" val="-1610608379" />
					<sval type="int" val="1" />
					<sval type="int" val="131074" />
					<sval type="int" val="9" />
					<sval type="int" val="1" />
					<sval type="int" val="-1" />
				</sval>
				<sval type="array" size="4">
					<sval type="int" val="559" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
					<sval type="int" val="10" />
				</sval>
				<sval type="array" size="6">
					<sval type="int" val="156" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
					<sval type="int" val="5" />
					<sval type="string" val="mayhem_squadronName" />
					<sval type="int" val="12" />
				</sval>
				<sval type="array" size="12">
					<sval type="int" val="102" />
					<sval type="string" val="Mayhem.SelectNewLeader" />
					<sval type="int" val="13" />
					<sval type="int" val="131075" />
					<sval type="int" val="12" />
					<sval type="int" val="3" />
					<sval type="int" val="131074" />
					<sval type="int" val="10" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
					<sval type="int" val="131074" />
					<sval type="int" val="12" />
				</sval>
				<sval type="array" size="4">
					<sval type="int" val="706" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
					<sval type="int" val="-536865529" />
				</sval>
				<sval type="array" size="3">
					<sval type="int" val="103" />
					<sval type="int" val="0" />
					<sval type="int" val="0" />
				</sval>
				<sval type="array" size="5">
					<sval type="int" val="1803" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
					<sval type="int" val="131075" />
					<sval type="int" val="10" />
				</sval>
				<sval type="array" size="4">
					<sval type="int" val="706" />
					<sval type="int" val="131074" />
					<sval type="int" val="1" />
					<sval type="int" val="-1610605565" />
				</sval>
				<sval type="array" size="6">
					<sval type="int" val="727" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
					<sval type="int" val="-1610606328" />
					<sval type="int" val="131074" />
					<sval type="int" val="1" />
				</sval>
				<sval type="array" size="7">
					<sval type="int" val="744" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
					<sval type="int" val="131074" />
					<sval type="int" val="1" />
					<sval type="int" val="14" />
					<sval type="int" val="-1" />
				</sval>
				<sval type="array" size="4">
					<sval type="int" val="736" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
					<sval type="int" val="14" />
				</sval>
				<sval type="array" size="13">
					<sval type="int" val="104" />
					<sval type="int" val="-1610605565" />
					<sval type="int" val="3" />
					<sval type="int" val="131074" />
					<sval type="int" val="14" />
					<sval type="int" val="131074" />
					<sval type="int" val="1" />
					<sval type="int" val="15" />
					<sval type="int" val="0" />
					<sval type="int" val="3" />
					<sval type="int" val="-1" />
					<sval type="int" val="0" />
					<sval type="int" val="-2" />
				</sval>
				<sval type="array" size="13">
					<sval type="int" val="515" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
					<sval type="int" val="18" />
					<sval type="int" val="1000" />
					<sval type="int" val="131074" />
					<sval type="int" val="1" />
					<sval type="int" val="0" />
					<sval type="int" val="0" />
					<sval type="int" val="0" />
					<sval type="int" val="0" />
					<sval type="int" val="0" />
					<sval type="int" val="0" />
				</sval>
				<sval type="array" size="10">
					<sval type="int" val="102" />
					<sval type="string" val="Joubarbe.Lib.DisableBailing" />
					<sval type="int" val="-2147483647" />
					<sval type="int" val="131075" />
					<sval type="int" val="12" />
					<sval type="int" val="2" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
					<sval type="int" val="131075" />
					<sval type="int" val="10" />
				</sval>
				<sval type="array" size="7">
					<sval type="int" val="104" />
					<sval type="int" val="-1610600957" />
					<sval type="int" val="1" />
					<sval type="int" val="131074" />
					<sval type="int" val="7" />
					<sval type="int" val="1" />
					<sval type="int" val="-1" />
				</sval>
				<sval type="array" size="8">
					<sval type="int" val="102" />
					<sval type="string" val="Mayhem.Fleet.GetSettings" />
					<sval type="int" val="15" />
					<sval type="int" val="131075" />
					<sval type="int" val="12" />
					<sval type="int" val="1" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
				</sval>
				<sval type="array" size="5">
					<sval type="int" val="1571" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
				</sval>
				<sval type="array" size="7">
					<sval type="int" val="155" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
					<sval type="int" val="5" />
					<sval type="string" val="mayhem_fleetSettings" />
					<sval type="int" val="131074" />
					<sval type="int" val="15" />
				</sval>
				<sval type="array" size="7">
					<sval type="int" val="155" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
					<sval type="int" val="5" />
					<sval type="string" val="mayhem_fleetSettings" />
					<sval type="int" val="0" />
					<sval type="int" val="0" />
				</sval>
				<sval type="array" size="12">
					<sval type="int" val="102" />
					<sval type="string" val="Joubarbe.Lib.GetFleetShips" />
					<sval type="int" val="16" />
					<sval type="int" val="131075" />
					<sval type="int" val="12" />
					<sval type="int" val="3" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
					<sval type="int" val="131075" />
					<sval type="int" val="9" />
					<sval type="int" val="131075" />
					<sval type="int" val="10" />
				</sval>
				<sval type="array" size="4">
					<sval type="int" val="131" />
					<sval type="int" val="18" />
					<sval type="int" val="131074" />
					<sval type="int" val="16" />
				</sval>
				<sval type="array" size="7">
					<sval type="int" val="104" />
					<sval type="int" val="-1610602231" />
					<sval type="int" val="1" />
					<sval type="int" val="131074" />
					<sval type="int" val="18" />
					<sval type="int" val="1" />
					<sval type="int" val="-1" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="143" />
					<sval type="int" val="18" />
				</sval>
				<sval type="array" size="6">
					<sval type="int" val="129" />
					<sval type="int" val="17" />
					<sval type="int" val="131074" />
					<sval type="int" val="16" />
					<sval type="int" val="131074" />
					<sval type="int" val="18" />
				</sval>
				<sval type="array" size="6">
					<sval type="int" val="102" />
					<sval type="string" val="!ship.cmd.fleet.join" />
					<sval type="int" val="-2147483646" />
					<sval type="int" val="131074" />
					<sval type="int" val="17" />
					<sval type="int" val="0" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="112" />
					<sval type="int" val="36" />
				</sval>
				<sval type="array" size="4">
					<sval type="int" val="703" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
					<sval type="int" val="19" />
				</sval>
				<sval type="array" size="8">
					<sval type="int" val="102" />
					<sval type="string" val="Joubarbe.Lib.GetNameAndId" />
					<sval type="int" val="20" />
					<sval type="int" val="131075" />
					<sval type="int" val="12" />
					<sval type="int" val="1" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
				</sval>
				<sval type="array" size="31">
					<sval type="int" val="104" />
					<sval type="int" val="21" />
					<sval type="int" val="9" />
					<sval type="int" val="5" />
					<sval type="string" val="New leader assigned in " />
					<sval type="int" val="131074" />
					<sval type="int" val="19" />
					<sval type="int" val="15" />
					<sval type="int" val="11" />
					<sval type="int" val="5" />
					<sval type="string" val=": " />
					<sval type="int" val="15" />
					<sval type="int" val="11" />
					<sval type="int" val="131074" />
					<sval type="int" val="20" />
					<sval type="int" val="15" />
					<sval type="int" val="11" />
					<sval type="int" val="5" />
					<sval type="string" val="." />
					<sval type="int" val="15" />
					<sval type="int" val="11" />
					<sval type="int" val="9" />
					<sval type="int" val="-1" />
					<sval type="int" val="11" />
					<sval type="int" val="-2" />
					<sval type="int" val="11" />
					<sval type="int" val="-4" />
					<sval type="int" val="11" />
					<sval type="int" val="-6" />
					<sval type="int" val="11" />
					<sval type="int" val="-8" />
				</sval>
				<sval type="array" size="12">
					<sval type="int" val="102" />
					<sval type="string" val="Mayhem.StackNews" />
					<sval type="int" val="-2147483647" />
					<sval type="int" val="131075" />
					<sval type="int" val="12" />
					<sval type="int" val="3" />
					<sval type="int" val="131074" />
					<sval type="int" val="21" />
					<sval type="int" val="131075" />
					<sval type="int" val="9" />
					<sval type="int" val="131075" />
					<sval type="int" val="9" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="112" />
					<sval type="int" val="52" />
				</sval>
				<sval type="array" size="7">
					<sval type="int" val="104" />
					<sval type="int" val="-1610599931" />
					<sval type="int" val="1" />
					<sval type="int" val="131074" />
					<sval type="int" val="8" />
					<sval type="int" val="1" />
					<sval type="int" val="-1" />
				</sval>
				<sval type="array" size="10">
					<sval type="int" val="102" />
					<sval type="string" val="Mayhem.Squadron.SwitchLeader" />
					<sval type="int" val="-2147483646" />
					<sval type="int" val="131075" />
					<sval type="int" val="12" />
					<sval type="int" val="2" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
				</sval>
				<sval type="array" size="3">
					<sval type="int" val="103" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="112" />
					<sval type="int" val="52" />
				</sval>
				<sval type="array" size="7">
					<sval type="int" val="104" />
					<sval type="int" val="-1610599419" />
					<sval type="int" val="1" />
					<sval type="int" val="131074" />
					<sval type="int" val="9" />
					<sval type="int" val="1" />
					<sval type="int" val="-1" />
				</sval>
				<sval type="array" size="5">
					<sval type="int" val="532" />
					<sval type="int" val="131074" />
					<sval type="int" val="0" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
				</sval>
				<sval type="array" size="13">
					<sval type="int" val="514" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
					<sval type="int" val="131074" />
					<sval type="int" val="2" />
					<sval type="int" val="131074" />
					<sval type="int" val="3" />
					<sval type="int" val="131074" />
					<sval type="int" val="4" />
					<sval type="int" val="131074" />
					<sval type="int" val="5" />
					<sval type="int" val="131074" />
					<sval type="int" val="6" />
				</sval>
				<sval type="array" size="3">
					<sval type="int" val="103" />
					<sval type="int" val="131074" />
					<sval type="int" val="13" />
				</sval>
			</sval>
			<sval type="array" size="7">
				<sval type="array" size="2">
					<sval type="int" val="21" />
					<sval type="string" val="" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="21" />
					<sval type="string" val="" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="9" />
					<sval type="string" val="" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="9" />
					<sval type="string" val="" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="9" />
					<sval type="string" val="" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="9" />
					<sval type="string" val="" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="9" />
					<sval type="string" val="" />
				</sval>
			</sval>
			<sval type="array" size="27">
				<sval type="array" size="2">
					<sval type="int" val="0" />
					<sval type="int" val="2" />
				</sval>
				<sval type="array" size="3">
					<sval type="int" val="0" />
					<sval type="int" val="1" />
					<sval type="string" val="Will return the slowest ship of the formation." />
				</sval>
				<sval type="array" size="3">
					<sval type="int" val="0" />
					<sval type="int" val="1" />
					<sval type="string" val="Will always assign a new leader (even if $ship is the slowest ship) if there is at least 1 follower, otherwise it will return null." />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="0" />
					<sval type="int" val="2" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="2" />
					<sval type="int" val="2" />
				</sval>
				<sval type="array" size="3">
					<sval type="int" val="2" />
					<sval type="int" val="1" />
					<sval type="string" val="Player:" />
				</sval>
				<sval type="array" size="3">
					<sval type="int" val="3" />
					<sval type="int" val="1" />
					<sval type="string" val="NPC:" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="5" />
					<sval type="int" val="2" />
				</sval>
				<sval type="array" size="3">
					<sval type="int" val="9" />
					<sval type="int" val="1" />
					<sval type="string" val="Consider ships not with fleet if that's all we have." />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="17" />
					<sval type="int" val="4" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="17" />
					<sval type="int" val="2" />
				</sval>
				<sval type="array" size="3">
					<sval type="int" val="17" />
					<sval type="int" val="1" />
					<sval type="string" val="Zero Hour needs Task Force TM leaders" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="21" />
					<sval type="int" val="2" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="22" />
					<sval type="int" val="2" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="28" />
					<sval type="int" val="4" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="28" />
					<sval type="int" val="4" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="28" />
					<sval type="int" val="2" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="29" />
					<sval type="int" val="2" />
				</sval>
				<sval type="array" size="3">
					<sval type="int" val="30" />
					<sval type="int" val="1" />
					<sval type="string" val="Transfer the leadership and internal fleet variables." />
				</sval>
				<sval type="array" size="3">
					<sval type="int" val="34" />
					<sval type="int" val="1" />
					<sval type="string" val="Tell all ships to rejoin the new leader, no matter what their current order is." />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="41" />
					<sval type="int" val="4" />
				</sval>
				<sval type="array" size="3">
					<sval type="int" val="41" />
					<sval type="int" val="1" />
					<sval type="string" val="Warning message to player." />
				</sval>
				<sval type="array" size="3">
					<sval type="int" val="47" />
					<sval type="int" val="1" />
					<sval type="string" val="The following is expensive and must be called with START, because this script is used by !ship.signal.killed." />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="52" />
					<sval type="int" val="4" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="52" />
					<sval type="int" val="2" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="53" />
					<sval type="int" val="4" />
				</sval>
				<sval type="array" size="2">
					<sval type="int" val="53" />
					<sval type="int" val="2" />
				</sval>
			</sval>
			<sval type="int" val="0" />
		</sval>
	</codearray>
</script>
